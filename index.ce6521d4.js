var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire78be;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire78be=o);var r=o("6kfMw"),a={save:e=>{try{let t=JSON.stringify(e);localStorage.setItem("favorites",t)}catch(e){console.error("Set state error: ",e.message)}},load:()=>{try{let e=localStorage.getItem("favorites");return null===e?void 0:JSON.parse(e)}catch(e){console.error("Get state error: ",e.message)}},remove:()=>{try{localStorage.removeItem("favorites")}catch(e){console.error("Remove item error: ",e.message)}}},r=o("6kfMw");let i=new r.default;function c(){return a.load()||{}}var l={getLs:c,togleFav:function(e){console.log(e);let t=c();return e in t?(delete t[e],a.save(t),console.log("Remove from favorites"),0):(i.getRecipeById(e).then(n=>{console.log(n),t[e]=n,a.save(t),console.log("Add to favorites")}),console.log(t),1)}},s={},u=0/0,d=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,y=v||b||Function("return this")(),h=Object.prototype.toString,T=Math.max,L=Math.min,S=function(){return y.Date.now()};function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return u;if(E(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=E(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var o=g.test(e);return o||p.test(e)?m(e.slice(2),o?2:8):f.test(e)?u:+e}s=function(e,t,n){var o,r,a,i,c,l,s=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(t){var n=o,a=r;return o=r=void 0,s=t,i=e.apply(a,n)}function p(e){var n=e-l,o=e-s;return void 0===l||n>=t||n<0||d&&o>=a}function m(){var e,n,o,r=S();if(p(r))return v(r);c=setTimeout(m,(e=r-l,n=r-s,o=t-e,d?L(o,a-n):o))}function v(e){return(c=void 0,f&&o)?g(e):(o=r=void 0,i)}function b(){var e,n=S(),a=p(n);if(o=arguments,r=this,l=n,a){if(void 0===c)return s=e=l,c=setTimeout(m,t),u?g(e):i;if(d)return c=setTimeout(m,t),g(l)}return void 0===c&&(c=setTimeout(m,t)),i}return t=w(t)||0,E(n)&&(u=!!n.leading,a=(d="maxWait"in n)?T(w(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=l=r=c=void 0},b.flush=function(){return void 0===c?i:v(S())},b};var M={},$="Expected a function",O=0/0,j=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,q=/^0o[0-7]+$/i,C=parseInt,I="object"==typeof e&&e&&e.Object===Object&&e,_="object"==typeof self&&self&&self.Object===Object&&self,k=I||_||Function("return this")(),P=Object.prototype.toString,W=Math.max,N=Math.min,R=function(){return k.Date.now()};function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function F(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==P.call(t))return O;if(A(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=A(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(j,"");var o=H.test(e);return o||q.test(e)?C(e.slice(2),o?2:8):x.test(e)?O:+e}M=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw TypeError($);return A(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),function(e,t,n){var o,r,a,i,c,l,s=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError($);function g(t){var n=o,a=r;return o=r=void 0,s=t,i=e.apply(a,n)}function p(e){var n=e-l,o=e-s;return void 0===l||n>=t||n<0||d&&o>=a}function m(){var e,n,o,r=R();if(p(r))return v(r);c=setTimeout(m,(e=r-l,n=r-s,o=t-e,d?N(o,a-n):o))}function v(e){return(c=void 0,f&&o)?g(e):(o=r=void 0,i)}function b(){var e,n=R(),a=p(n);if(o=arguments,r=this,l=n,a){if(void 0===c)return s=e=l,c=setTimeout(m,t),u?g(e):i;if(d)return c=setTimeout(m,t),g(l)}return void 0===c&&(c=setTimeout(m,t)),i}return t=F(t)||0,A(n)&&(u=!!n.leading,a=(d="maxWait"in n)?W(F(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&clearTimeout(c),s=0,o=l=r=c=void 0},b.flush=function(){return void 0===c?i:v(R())},b}(e,t,{leading:o,maxWait:t,trailing:r})};const D=new r.default,U=document.querySelector(".category-list"),J=document.querySelector(".list-item"),z=document.querySelector(".filter-input"),B=document.querySelector(".area"),G=document.querySelector(".ingrediends"),K=document.querySelector(".time"),Q=document.querySelector(".all-category-btn"),V=document.querySelector(".reset-filters");V.addEventListener("click",e=>{document.querySelector(".form-filters").reset(),D.setResetFilters(),X()});for(let e=5;e<=120;e+=5){let t=document.createElement("option");t.value=e,t.innerHTML=e+" min",K.appendChild(t)}function X(){window.innerWidth<768?D.setPerPage(6):window.innerWidth<1280?D.setPerPage(8):D.setPerPage(9);let e=l.getLs();D.getRecipes().then(t=>{let n="";t.results.forEach(t=>{let o=t._id in e?"favorite":"unfavorite";n+=`<li class="item-cards"><div class="shadow-on-img"><img class="card-img" data-recipe-id="${t._id}" src="${t.preview}"/></div><button class="add-fav-btn ${o}" data-recipe-id="${t._id}"><svg class="heard-icon"><use href="../img/sprite.svg#icon-heart1"></use></svg></button><span class="span-title">${t.title.toUpperCase()}</span><span class="span-descr">${t.description}</span><button class="main-see-recipe">See recipe</button></li>`}),J.innerHTML=n,J.querySelectorAll(".add-fav-btn").forEach(e=>{e.addEventListener("click",function(e){console.log(l.togleFav(e.target.closest("button").dataset.recipeId))})}),J.querySelectorAll(".main-see-recipe").forEach(e=>{e.addEventListener("click",Y)});let o=document.querySelector(".pagination");(function(e,t,n,o){e=Number(e),t=Number(t);let r=window.innerWidth<768?2:3;if(console.log(e,t),t>1){n.innerHTML="",1===e?(n.innerHTML+='<button class="main-pag-btn" disabled><<</button>',n.innerHTML+='<button class="main-pag-btn" disabled><</button>'):(n.innerHTML+='<button class="main-pag-btn main-pag-btn-green" data-topage="1"><<</button>',n.innerHTML+=`<button class="main-pag-btn main-pag-btn-green" data-topage="${e-1}"><</button>`);for(let o=e-r;o<=e+r;o++)o>0&&o<=t&&(o===e?n.innerHTML+=`<button class="main-pag-btn main-pag-btn-green active"  data-topage="${o}">_${o}_</button>`:o===e+r||o===e-r?n.innerHTML+=`<button class="main-pag-btn" data-topage="${o}">...</button>`:n.innerHTML+=`<button class="main-pag-btn" data-topage="${o}">${o}</button>`);e===t?(n.innerHTML+='<button class="main-pag-btn" disabled>></button>',n.innerHTML+='<button class="main-pag-btn" disabled>>></button>'):(n.innerHTML+=`<button class="main-pag-btn main-pag-btn-green" data-topage="${e+1}">></button>`,n.innerHTML+=`<button class="main-pag-btn main-pag-btn-green" data-topage="${t}">>></button>`),n.querySelectorAll("[data-topage]").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),D.setPage(Number(e.target.dataset.topage)),o()})})}})(t.page,t.totalPages,o,X),console.log(t)})}function Y(e){console.log(e.target.dataset.recipeId)}z.addEventListener("input",s(function(e){console.log(e.target.value.trim()),D.setSearchText(e.target.value.trim()),X()},300)),G.addEventListener("change",function(e){console.log(e.target.value),D.setSearchIngredient(e.target.value),X()}),B.addEventListener("change",function(e){console.log(e.target.selectedOptions[0].dataset.param),D.setSearchArea(e.target.selectedOptions[0].dataset.param),X()}),U.addEventListener("click",function(e){console.log(e.target.dataset.recipeCategory),D.setCategory(e.target.dataset.recipeCategory),X()}),K.addEventListener("change",function(e){console.log(e.target.value),D.setSearchTime(e.target.value),X()}),Q.addEventListener("click",function(){D.setCategory(""),X()}),D.getCategories().then(e=>{e.forEach(e=>{U.innerHTML+=`<li class="category-item-list"><button class="category-btn" data-recipe-category="${e.name}">${e.name}</button></li>`})}),D.getAreas().then(e=>{e.forEach(e=>{let t=document.createElement("option");t.value=e._id,t.innerHTML=e.name,t.dataset.param=e.name,B.appendChild(t)})}),D.getIngredients().then(e=>{e.forEach(e=>{let t=document.createElement("option");t.value=e._id,t.innerHTML=e.name,G.appendChild(t)})}),window.onresize=M(function(){X()},500),X();
//# sourceMappingURL=index.ce6521d4.js.map
