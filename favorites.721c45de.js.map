{"mappings":"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","sources":["<anon>","src/favorites.js"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire78be\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire78be\"] = parcelRequire;\n}\n\nvar $eMXxl = parcelRequire(\"eMXxl\");\nconst $a0785e6c3841fb73$var$categoryListFavorite = document.querySelector(\".category-list-favorites\");\nconst $a0785e6c3841fb73$var$favoriteCards = document.querySelector(\".favorites-list\");\nconst $a0785e6c3841fb73$var$favorPagin = document.querySelector(\"#pagination\");\nconst $a0785e6c3841fb73$var$favCaptive = document.querySelector(\".favorites-text\");\nlet $a0785e6c3841fb73$var$AllCategories = [];\nlet $a0785e6c3841fb73$var$favCount = 0;\nlet $a0785e6c3841fb73$var$perPageLimit = 3;\nlet $a0785e6c3841fb73$var$currentCategory = \"\";\nwindow.onresize = $eMXxl(function() {\n    $a0785e6c3841fb73$var$renewRecipes();\n}, 500);\nconst $a0785e6c3841fb73$var$activeHeartSvg = `\n<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path opacity=\"1\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n        d=\"M10.9939 4.70783C9.16115 2.5652 6.10493 1.98884 3.80863 3.95085C1.51234\n        5.91285 1.18905 9.19323 2.99234 11.5137C4.49166 13.443 9.02912\n        17.5121 10.5163 18.8291C10.6826 18.9764 10.7658 19.0501 10.8629\n        19.0791C10.9475 19.1043 11.0402 19.1043 11.1249 19.0791C11.2219\n        19.0501 11.3051 18.9764 11.4715 18.8291C12.9586 17.5121 17.4961\n        13.443 18.9954 11.5137C20.7987 9.19323 20.5149 5.89221 18.1791 3.95085C15.8434\n        2.00948 12.8266 2.5652 10.9939 4.70783Z\" stroke=\"#F8F8F8\" stroke-width=\"2\"\n        stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`;\nfunction $a0785e6c3841fb73$export$50b768a11f050083(rating) {\n    const starPath = `\n        <path d=\"M13.826 3.262c0.684-2.106 3.663-2.106 4.348 0l1.932 5.945c0.306 0.942 1.184 1.579 2.174 1.579h6.251c2.214 0 3.135 2.833 1.344 4.135l-5.057 3.674c-0.801 0.582-1.136 1.614-0.83 2.556l1.931 5.945c0.684 2.106-1.726 3.857-3.517 2.555l-5.057-3.674c-0.801-0.582-1.886-0.582-2.687 0l-5.057 3.674c-1.791 1.302-4.202-0.45-3.517-2.555l1.932-5.945c0.306-0.942-0.029-1.973-0.83-2.556l-5.057-3.674c-1.791-1.302-0.871-4.135 1.344-4.135h6.251c0.99 0 1.868-0.638 2.174-1.579l1.932-5.945z\"></path>\n    `;\n    const ratingDiv = document.createElement(\"div\");\n    const dispRating = (Math.round(rating * 10) / 10).toFixed(1);\n    ratingDiv.className = \"rating-recipe\";\n    ratingDiv.innerHTML = `<span class=\"rating-number-recipe\">${dispRating}</span>`;\n    const ul = document.createElement(\"ul\");\n    ul.className = \"stars\";\n    for(let i = 1; i <= 5; i++){\n        const li = document.createElement(\"li\");\n        if (i <= rating) li.innerHTML = `\n                <svg class=\"star star-filled\" viewBox=\"0 0 34 32\" data-rating=\"${i}\" width=\"16\" height=\"16\">\n                    ${starPath}\n                </svg>            \n            `;\n        else li.innerHTML = `\n                <svg class=\"star\" viewBox=\"0 0 34 32\" data-rating=\"${i}\" width=\"16\" height=\"16\">\n                    ${starPath}\n                </svg>            \n            `;\n        ul.appendChild(li);\n    }\n    ratingDiv.appendChild(ul);\n    return ratingDiv;\n}\n\n\n// functions\nfunction $a0785e6c3841fb73$var$renewRecipes(page) {\n    page ||= 1;\n    page = Number(page);\n    let favApi = (parcelRequire(\"2JNBJ\")).default;\n    let favObj = favApi.getLs();\n    let cardsArray = [];\n    $a0785e6c3841fb73$var$AllCategories = [];\n    $a0785e6c3841fb73$var$favCount = 0;\n    $a0785e6c3841fb73$var$perPageLimit = window.innerWidth < 768 ? 2 : 3;\n    let counter = 0;\n    Object.keys(favObj).forEach((id)=>{\n        let recipe = favObj[id];\n        //console.log(id, recipe);\n        $a0785e6c3841fb73$var$favCount++;\n        if (!$a0785e6c3841fb73$var$AllCategories.includes(recipe.category)) $a0785e6c3841fb73$var$AllCategories.push(recipe.category);\n    });\n    $a0785e6c3841fb73$var$currentCategory = $a0785e6c3841fb73$var$AllCategories.includes($a0785e6c3841fb73$var$currentCategory) ? $a0785e6c3841fb73$var$currentCategory : \"\";\n    Object.keys(favObj).forEach((id)=>{\n        let recipe = favObj[id];\n        //console.log(recipe);\n        let totalCards = 0;\n        let start = page === 1 ? 0 : (page - 1) * $a0785e6c3841fb73$var$perPageLimit;\n        let end = page === 1 ? $a0785e6c3841fb73$var$perPageLimit : page * $a0785e6c3841fb73$var$perPageLimit;\n        if ($a0785e6c3841fb73$var$currentCategory && recipe.category === $a0785e6c3841fb73$var$currentCategory || !$a0785e6c3841fb73$var$currentCategory) {\n            counter++;\n            if (cardsArray.length < $a0785e6c3841fb73$var$perPageLimit && counter > start && counter <= end) {\n                totalCards++;\n                const li = document.createElement(\"li\");\n                li.className = \"item-cards\";\n                li.innerHTML = `\n                    <div class=\"shadow-on-img\" data-recipe-id=\"${recipe._id}\">\n                        <img class=\"card-img\" src=\"${recipe.preview}\" />\n                    </div>\n                    <button class=\"add-fav-btn\"\n                            data-recipe-id=\"${recipe._id}\">\n                        ${$a0785e6c3841fb73$var$activeHeartSvg}\n                    </button>\n                    <span class=\"span-title\" data-recipe-id=\"${recipe._id}\">\n                        ${recipe.title.toUpperCase()}\n                    </span>\n                    <span class=\"span-descr\" data-recipe-id=\"${recipe._id}\">\n                        ${recipe.description}\n                    </span>\n                    <button class=\"main-see-recipe\" data-recipe-id=\"${recipe._id}\">\n                        See recipe\n                    </button>\n                `;\n                li.appendChild($a0785e6c3841fb73$export$50b768a11f050083(recipe.rating));\n                $a0785e6c3841fb73$var$favoriteCards.appendChild(li);\n            }\n        }\n    });\n    const markup = $a0785e6c3841fb73$var$AllCategories.sort().map((category)=>{\n        return `<li class=\"favourites-list-btn\"><button class=\"category-btn\" data-recipe-category=\"${category}\">${category}</button></li>`;\n    }).join(\"\");\n    $a0785e6c3841fb73$var$categoryListFavorite.innerHTML = markup;\n    $a0785e6c3841fb73$var$categoryListFavorite.querySelectorAll(\".category-btn\").forEach((btn)=>{\n        btn.addEventListener(\"click\", (e)=>{\n            $a0785e6c3841fb73$var$currentCategory = e.target.dataset.recipeCategory;\n            console.log(e.target.dataset.recipeCategory);\n            // renew favors\n            $a0785e6c3841fb73$var$renewRecipes();\n        });\n    });\n    document.querySelector(\".all-tags\").addEventListener(\"click\", ()=>{\n        $a0785e6c3841fb73$var$currentCategory = \"\";\n        console.log(\"categories reset\", $a0785e6c3841fb73$var$currentCategory);\n        // renew favors\n        $a0785e6c3841fb73$var$renewRecipes();\n    });\n    if ($a0785e6c3841fb73$var$favoriteCards.querySelectorAll(\".item-cards\").length) {\n        $a0785e6c3841fb73$var$favoriteCards.querySelectorAll(\".add-fav-btn\").forEach((button)=>{\n            button.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n                let res = favApi.togleFav(e.target.dataset.recipeId);\n                // console.log(res);\n                $a0785e6c3841fb73$var$renewRecipes(page);\n            // if (res) togle class  'favorite' : 'unfavorite'\n            });\n        });\n        $a0785e6c3841fb73$var$favoriteCards.querySelectorAll(\".main-see-recipe\").forEach((button)=>{\n            let modal = (parcelRequire(\"6o7gM\"));\n            button.addEventListener(\"click\", (e)=>{\n                console.log(e.target.dataset);\n                modal.default.open(e.target.dataset.recipeId);\n            });\n        });\n        if (counter > $a0785e6c3841fb73$var$perPageLimit) $a0785e6c3841fb73$var$pagination(page, Math.ceil(counter / $a0785e6c3841fb73$var$perPageLimit), $a0785e6c3841fb73$var$favorPagin, $a0785e6c3841fb73$var$renewRecipes);\n        else $a0785e6c3841fb73$var$favorPagin.innerHTML = \"\";\n        $a0785e6c3841fb73$var$favCaptive.style.display = \"none\";\n        document.querySelector(\".favorites-tags\").style.display = \"flex\";\n    } else {\n        $a0785e6c3841fb73$var$favCaptive.style.display = \"flex\";\n        document.querySelector(\".favorites-tags\").style.display = \"none\";\n    }\n}\n$a0785e6c3841fb73$var$renewRecipes();\n// pagination\nfunction $a0785e6c3841fb73$var$pagination(page, total, container, callback) {\n    page = Number(page);\n    total = Number(total);\n    let btns = window.innerWidth < 768 ? 2 : 3;\n    console.log(page, total);\n    if (total > 1) {\n        container.innerHTML = \"\";\n        if (page === 1) {\n            // inactive prev b\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled><<</button>`;\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled><</button>`;\n        } else {\n            // active prev b\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"1\"><<</button>`;\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${page - 1}\"><</button>`;\n        }\n        for(let i = page - btns; i <= page + btns; i++)if (i > 0 && i <= total) {\n            if (i === page) //current page b\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green active\"  data-topage=\"${i}\">${i}</button>`;\n            else if (i === page + btns || i === page - btns) //other pages b\n            container.innerHTML += `<button class=\"main-pag-btn\" data-topage=\"${i}\">...</button>`;\n            else //other pages b\n            container.innerHTML += `<button class=\"main-pag-btn\" data-topage=\"${i}\">${i}</button>`;\n        }\n        if (page === total) {\n            // inactive forward b\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled>></button>`;\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled>>></button>`;\n        } else {\n            // active forward b\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${page + 1}\">></button>`;\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${total}\">>></button>`;\n        }\n        container.querySelectorAll(\"[data-topage]\").forEach((btn)=>{\n            /* console.log(btn.dataset.topage) */ btn.addEventListener(\"click\", function(e) {\n                e.preventDefault();\n                callback(Number(e.target.dataset.topage));\n            });\n        });\n    }\n}\n\n\n//# sourceMappingURL=favorites.721c45de.js.map\n","const throttle = require('lodash.throttle');\n\nconst categoryListFavorite = document.querySelector('.category-list-favorites');\nconst favoriteCards = document.querySelector('.favorites-list');\nconst favorPagin = document.querySelector('#pagination');\nconst favCaptive = document.querySelector('.favorites-text');\n\nlet AllCategories = [];\n\nlet favCount = 0;\nlet perPageLimit = 3;\nlet currentCategory = '';\n\nwindow.onresize = throttle(function () {\n    renewRecipes();\n}, 500);\n\nconst activeHeartSvg = `\n<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"white\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path opacity=\"1\" fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n        d=\"M10.9939 4.70783C9.16115 2.5652 6.10493 1.98884 3.80863 3.95085C1.51234\n        5.91285 1.18905 9.19323 2.99234 11.5137C4.49166 13.443 9.02912\n        17.5121 10.5163 18.8291C10.6826 18.9764 10.7658 19.0501 10.8629\n        19.0791C10.9475 19.1043 11.0402 19.1043 11.1249 19.0791C11.2219\n        19.0501 11.3051 18.9764 11.4715 18.8291C12.9586 17.5121 17.4961\n        13.443 18.9954 11.5137C20.7987 9.19323 20.5149 5.89221 18.1791 3.95085C15.8434\n        2.00948 12.8266 2.5652 10.9939 4.70783Z\" stroke=\"#F8F8F8\" stroke-width=\"2\"\n        stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n</svg>`;\n\nexport function createRatingStars(rating) {\n    const starPath = `\n        <path d=\"M13.826 3.262c0.684-2.106 3.663-2.106 4.348 0l1.932 5.945c0.306 0.942 1.184 1.579 2.174 1.579h6.251c2.214 0 3.135 2.833 1.344 4.135l-5.057 3.674c-0.801 0.582-1.136 1.614-0.83 2.556l1.931 5.945c0.684 2.106-1.726 3.857-3.517 2.555l-5.057-3.674c-0.801-0.582-1.886-0.582-2.687 0l-5.057 3.674c-1.791 1.302-4.202-0.45-3.517-2.555l1.932-5.945c0.306-0.942-0.029-1.973-0.83-2.556l-5.057-3.674c-1.791-1.302-0.871-4.135 1.344-4.135h6.251c0.99 0 1.868-0.638 2.174-1.579l1.932-5.945z\"></path>\n    `;\n\n    const ratingDiv = document.createElement('div');\n    const dispRating = (Math.round(rating * 10) / 10).toFixed(1);\n    ratingDiv.className = 'rating-recipe';\n    ratingDiv.innerHTML = `<span class=\"rating-number-recipe\">${dispRating}</span>`;\n\n    const ul = document.createElement('ul');\n    ul.className = 'stars';\n    for (let i = 1; i <= 5; i++) {\n        const li = document.createElement('li');\n        if (i <= rating) {\n            li.innerHTML = `\n                <svg class=\"star star-filled\" viewBox=\"0 0 34 32\" data-rating=\"${i}\" width=\"16\" height=\"16\">\n                    ${starPath}\n                </svg>            \n            `;\n        } else {\n            li.innerHTML = `\n                <svg class=\"star\" viewBox=\"0 0 34 32\" data-rating=\"${i}\" width=\"16\" height=\"16\">\n                    ${starPath}\n                </svg>            \n            `;\n        }\n        ul.appendChild(li);\n    }\n\n    ratingDiv.appendChild(ul);\n\n    return ratingDiv;\n}\n\n// functions\nfunction renewRecipes(page) {\n    page ||= 1;\n    page = Number(page);\n    let favApi = require('./js/favorites-api').default;\n    let favObj = favApi.getLs();\n    let cardsArray = [];\n    AllCategories = [];\n    favCount = 0;\n    perPageLimit = window.innerWidth < 768 ? 2 : 3;\n    let counter = 0;\n    Object.keys(favObj).forEach(id => {\n        let recipe = favObj[id];\n        //console.log(id, recipe);\n        favCount++;\n        if (!AllCategories.includes(recipe.category)) {\n            AllCategories.push(recipe.category);\n        }\n    });\n    currentCategory = AllCategories.includes(currentCategory)\n        ? currentCategory\n        : '';\n    Object.keys(favObj).forEach(id => {\n        let recipe = favObj[id];\n        //console.log(recipe);\n        let totalCards = 0;\n        let start = page === 1 ? 0 : (page - 1) * perPageLimit;\n        let end = page === 1 ? perPageLimit : page * perPageLimit;\n        if (\n            (currentCategory && recipe.category === currentCategory) ||\n            !currentCategory\n        ) {\n            counter++;\n            if (\n                cardsArray.length < perPageLimit &&\n                counter > start &&\n                counter <= end\n            ) {\n                totalCards++;\n                const li = document.createElement('li');\n                li.className = 'item-cards';\n                li.innerHTML = `\n                    <div class=\"shadow-on-img\" data-recipe-id=\"${recipe._id}\">\n                        <img class=\"card-img\" src=\"${recipe.preview}\" />\n                    </div>\n                    <button class=\"add-fav-btn\"\n                            data-recipe-id=\"${recipe._id}\">\n                        ${activeHeartSvg}\n                    </button>\n                    <span class=\"span-title\" data-recipe-id=\"${recipe._id}\">\n                        ${recipe.title.toUpperCase()}\n                    </span>\n                    <span class=\"span-descr\" data-recipe-id=\"${recipe._id}\">\n                        ${recipe.description}\n                    </span>\n                    <button class=\"main-see-recipe\" data-recipe-id=\"${\n                        recipe._id\n                    }\">\n                        See recipe\n                    </button>\n                `;\n\n                li.appendChild(createRatingStars(recipe.rating));\n\n                favoriteCards.appendChild(li);\n            }\n        }\n    });\n    \n    const markup = AllCategories.sort()\n        .map(category => {\n            return `<li class=\"favourites-list-btn\"><button class=\"category-btn\" data-recipe-category=\"${category}\">${category}</button></li>`;\n        })\n        .join('');\n    categoryListFavorite.innerHTML = markup;\n\n    categoryListFavorite.querySelectorAll('.category-btn').forEach(btn => {\n        btn.addEventListener('click', e => {\n            currentCategory = e.target.dataset.recipeCategory;\n            console.log(e.target.dataset.recipeCategory);\n            // renew favors\n            renewRecipes();\n        });\n    });\n\n    document.querySelector('.all-tags').addEventListener('click', () => {\n        currentCategory = '';\n        console.log('categories reset', currentCategory);\n        // renew favors\n        renewRecipes();\n    });\n    if (favoriteCards.querySelectorAll(\".item-cards\").length) {\n        favoriteCards.querySelectorAll('.add-fav-btn').forEach(button => {\n            button.addEventListener('click', function (e) {\n                e.preventDefault();\n                let res = favApi.togleFav(e.target.dataset.recipeId);\n                // console.log(res);\n                renewRecipes(page);\n                // if (res) togle class  'favorite' : 'unfavorite'\n            });\n        });\n        favoriteCards.querySelectorAll('.main-see-recipe').forEach(button => {\n            let modal = require('./js/modal-recipe');\n            button.addEventListener('click', e => {\n                console.log(e.target.dataset);\n                modal.default.open(e.target.dataset.recipeId);\n            });\n        });\n        if (counter > perPageLimit) {\n            pagination(\n                page,\n                Math.ceil(counter / perPageLimit),\n                favorPagin,\n                renewRecipes\n            );\n        } else {\n            favorPagin.innerHTML = '';\n        }\n        favCaptive.style.display = 'none';\n        document.querySelector('.favorites-tags').style.display = 'flex';\n    } else {\n        favCaptive.style.display = 'flex';\n        document.querySelector('.favorites-tags').style.display = 'none';\n    }\n}\n\nrenewRecipes();\n\n// pagination\nfunction pagination(page, total, container, callback) {\n    page = Number(page);\n    total = Number(total);\n    let btns = window.innerWidth < 768 ? 2 : 3;\n    console.log(page, total);\n\n    if (total > 1) {\n        container.innerHTML = '';\n        if (page === 1) {\n            // inactive prev b\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled><<</button>`;\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled><</button>`;\n        } else {\n            // active prev b\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"1\"><<</button>`;\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${\n                page - 1\n            }\"><</button>`;\n        }\n        for (let i = page - btns; i <= page + btns; i++) {\n            if (i > 0 && i <= total) {\n                if (i === page) {\n                    //current page b\n                    container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green active\"  data-topage=\"${i}\">${i}</button>`;\n                } else if (i === page + btns || i === page - btns) {\n                    //other pages b\n                    container.innerHTML += `<button class=\"main-pag-btn\" data-topage=\"${i}\">...</button>`;\n                } else {\n                    //other pages b\n                    container.innerHTML += `<button class=\"main-pag-btn\" data-topage=\"${i}\">${i}</button>`;\n                }\n            }\n        }\n        if (page === total) {\n            // inactive forward b\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled>></button>`;\n            container.innerHTML += `<button class=\"main-pag-btn\" disabled>>></button>`;\n        } else {\n            // active forward b\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${\n                page + 1\n            }\">></button>`;\n            container.innerHTML += `<button class=\"main-pag-btn main-pag-btn-green\" data-topage=\"${total}\">>></button>`;\n        }\n        container.querySelectorAll('[data-topage]').forEach(btn => {\n            /* console.log(btn.dataset.topage) */ btn.addEventListener(\n                'click',\n                function (e) {\n                    e.preventDefault();\n                    callback(Number(e.target.dataset.topage));\n                }\n            );\n        });\n    }\n}\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$eMXxl","$a0785e6c3841fb73$var$categoryListFavorite","document","querySelector","$a0785e6c3841fb73$var$favoriteCards","$a0785e6c3841fb73$var$favorPagin","$a0785e6c3841fb73$var$favCaptive","$a0785e6c3841fb73$var$AllCategories","$a0785e6c3841fb73$var$favCount","$a0785e6c3841fb73$var$perPageLimit","$a0785e6c3841fb73$var$currentCategory","onresize","$a0785e6c3841fb73$var$renewRecipes","$a0785e6c3841fb73$var$activeHeartSvg","page","Number","favApi","default","favObj","getLs","cardsArray","innerWidth","counter","Object","keys","forEach","recipe","includes","category","push","start","end","length","li","createElement","className","innerHTML","_id","preview","title","toUpperCase","description","appendChild","$a0785e6c3841fb73$export$50b768a11f050083","rating","starPath","ratingDiv","dispRating","Math","round","toFixed","ul","i","markup","sort","map","join","querySelectorAll","btn","addEventListener","e","target","dataset","recipeCategory","console","log","button","preventDefault","togleFav","recipeId","modal","open","$a0785e6c3841fb73$var$pagination","total","container","callback","btns","topage","ceil","style","display"],"version":3,"file":"favorites.721c45de.js.map"}